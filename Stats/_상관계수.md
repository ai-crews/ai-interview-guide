# 1. 상관계수 (Correlation Coefficient, r)
### 정의
- 두 변수 간의 선형 관계의 강도와 방향을 나타내는 통계량
- 한 변수가 변할 때, 다른 변수가 얼마나 선형적으로 함께 변하는가

### 해석
- 범위 : -1 <= r <= 1
  - 양의 상관관계 : 한 변수가 증가하면 다른 변수도 증가
  - 음의 상관관계 : 한 변수가 증가하면 다른 변수는 감소
  - 0 : 상관관계 없음

### 목적
- 변수간의 관계 탐색
  - 데이터 분석 초기 단계 변수 간 탐색
  - 다중 공선성(multicollinearity)을 확인
    - 다중 공선성 : 회귀 분석에서 독립 변수들 간의 상관관계가 높을 때 발생하는 문제
- 어떤 변수들이 서로 영향을 주고 받는지 파악
- 회귀 분석 등 전에 전처리 단계에 활용


# p - value (유의 확률)
### 정의
- 상관계수가 사실이 아닐 확률
- 신뢰의 정도를 판단하는데 사용
### 해석
- 유의수준 : 보통 0.05와 비교
  - p-value < 0.05 : 유의미한 결과 (귀무가설 기각)
  - p-value >= 0.05 : 유의미하지 않은 결과 (귀무가설 채택)
 ### 유의수준
   - 틀려도 괜찮다고 생각하는 오차


# 주요 상관계수 종류
## 1. 피어슨 상관계수 (Pearson Correlation Coefficient, r)
### 정의
  - 두 연속형 변수간의 선형 관계를 수치로 표현현
  - 모수 검정
### 전제조건
- 두 변수가 모두 연속형 변수
- 변수 간의 관계가 선형적
- 정규 분포를 따르거나, 중심 극한 정리로 정규 분포에 근사
    - 중심 극한 정리 : 표본이 충분히 크면 (n>=30) 정규 분포에 근사함
### 특징
- 이상치(outlier)에 민감하게 반응
  - 이상치가 있는 경우 비모수 상관관계가 더 적합

- 값의 범위 : -1 <= r <= 1
  +1: 강한 양의 선형 관계 (한 변수가 증가할 때 다른 변수도 동일한 비율로 증가)
  −1: 강한 음의 선형 관계 (한 변수가 증가할 때 다른 변수는 동일한 비율로 감소)
  0: 선형 관계 없음

  - 해석 :
    절대값이 클수록 강한 선형 관계
    +면 양의 상관관계
    -면 음의 상관관계

- 선형 관계에 대한 제한
  - 피어슨 상관계수는 선형적 관계만 측정
  - 비선형적인 강한 관계가 있어도 상관계수가 0일 수도 있음
  - 상관계수만 보기보단 산점도로 시각적 관계를 확인할 것

​
 
## 2.스피어만 순위 상관계수 (Spearman's Rank Correlation Coefficient, ρ)
### 정의
  - 두 변수의 순위(rank)를 기준으로 관계 분석
  - 비모수 검정
### 적용 상황
  - 모수 검정이 어려운 경우
      - 정규 분포를 만족하지 않는 연속형 변수
       - 실제 값 대신 데이터 순위(rank)를 사용하여 피어슨 상관계수와 유사하게 계산
  - 서열 척도 변수
### 특징 
- 이상치에 덜 민감
- 비선형적이지만 단조적인 관계도 측정 가능
  - 양의 단조 관계 : 한 변수가 증가할 때 다른 변수도 증가
  - 음의 단조 관계 : 한 변수가 증가할 때 다른 변수는 감소


## 3. 켄달 상관계수 (Kendall's T, tau)
### 정의
  - 두 변수 간 순위 일치 정도를 측정
  - 비모수 검정
### 적용 상황
  - 소규모 샘플 데이터에 적합
  - 동률(ties)가 많은 경우에 안정적
### 특징
  - 스피어만과 유사하지만 계산 방식이 다름

## 4. 양류상관계수 (Point - Biserial Correlation)
### 정의
  - 하나는 연속형, 하나는 이분형이나 범주형인 경우
  - 모수 검정
### 적용 상황
  - 하나는 연속형, 하나는 이분형이나 범주형인 경우
  - 이분화 된 명목형 변수와 연속형 변수 간 상관 분석
    ex) 이분화된 명목형 변수 : 성별, T/F



# 상관계수 유의사항
- 상관관계는 인과관계를 의미하지 x
  -> 상관계수가 높다고 한 변수가 다른 변수의 원인이 아님!!!!
- 제 3의 변수
  - 두 변수 모두에게 영향을 미치는 숨겨진 변수가 있을 수 있음
      ex) 아이스크림 판매량 - 익사자 수 & 여름철 기온
- 우연한 상관관계 (Spurious Correlation)
  - 통계적으로 유의미한 상관관계이나, 실제로는 아무런 관련 x일 수 도 있음
- 방향성 없음
  - 상관계수는 단지 관계의 강도와 방향을 보여줄 뿐
- 범위 제한 (Restriction of Range)
  - 데이터의 범위가 너무 좁으면 실제보다 상관관계가 낮게 측정될 수 있음




# 예상 질문문
### Q1. 피어슨 상관계수의 '선형성' 가정에 대해 설명, 이 가정이 위배되었을 때 어떤 문제가 발생하며 어떻게 대처해야 하는가?
- 피어슨 상관계수는 두 변수 간의 직선 형태의 관계를 전제로 함
  - 한 변수가 증가할 때, 다른 변수도 같은 비율로 증가하고 감소한다는 가정
- 실제 관계가 비선형적이라서 가정이 위배된다면, 피어슨 상관계수는 실제 존재하는 강한 관계를 제대로 포착하지 못하고 0에 가깝게 계산될 수도 있음
- 산점도를 통해 시각화 하여 비선형 관계의 존재를 파악할 수 있습니다.
  - 1. 비선형 관계가 명확하면 변수 변환을 고려
    - 로그 변환 등을 통해 비선형 관계를 선형 관계로 근사시켜 피어슨 상관계수를 적용
  - 2. 스피어만 순위 상관계수나 켄달의 타우와 같은 비모수적 상관계수를 사용
    - 선형성 가정이 없으며, 단조적인(monotonic) 관계(즉, 한 변수가 증가할 때 다른 변수도 계속 증가하거나 계속 감소하는 경향)만 있다면 높은 상관관계를 보여줌
    
### Q2. 상관계수를 해석할 때 가장 주의해야 할 점
 - 상관관계가 인과관계를 의미하지 않는다
   - 상관계수가 높다고 해서 한 변수가 다른 변수의 원인이라고 단정할 수 없음
   - 제3의 변수(Lurking Variable)의 영향: 두 변수 모두에 영향을 미치는 숨겨진 제3의 변수가 있을 수 있다.
   - 우연한 상관관계(Spurious Correlation): 통계적으로 유의미한 상관관계가 나타나지만 실제로는 아무런 논리적 관련이 없는 경우
 - 도메인 지식과 추가적인 분석(예: 실험 설계, 회귀 분석 등)을 통해 인과관계를 탐색해야 함
